/* ---------- Theme tokens ---------- */
:root{
  --gold:#c89b2d;
  --gold-dark:#9a6f16;
  --ink:#1c140b;
  --ivory:#fffaf1;
  --wash: linear-gradient(180deg, rgba(0,0,0,.15), rgba(0,0,0,.45));
}

/* Base reset */
*{box-sizing:border-box}
html,body{margin:0;padding:0;height:100%}
body{
  font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial;
  color:#fff; background:#000; overflow:hidden; /* we control scroll inside */
}

/* ---------- Background video ---------- */
.bg-video{
  position:fixed; inset:0; width:100%; height:100%; object-fit:cover; z-index:-2;
  filter: saturate(1.1) brightness(.9) contrast(1.05);
}
.video-overlay{
  position:fixed; inset:0; z-index:-1; pointer-events:none;
  background:
    radial-gradient(60% 60% at 50% 20%, rgba(200,155,45,.20), transparent 60%),
    var(--wash);
}

/* ---------- iOS-style translucent glass + water effect ---------- */
.glass{
  background: rgba(20,15,10,.28);
  border: 1px solid rgba(255,255,255,.18);
  box-shadow: 0 12px 40px rgba(0,0,0,.25);
  backdrop-filter: blur(14px) saturate(120%);
  -webkit-backdrop-filter: blur(14px) saturate(120%);
  border-radius: 18px;
}
.water{
  /* SVG turbulence-based ripple (GPU-friendly enough, with fallback) */
  position: relative;
  overflow: hidden;
}
.water::after{
  content:""; position:absolute; inset:-30%;
  background:
    radial-gradient(120px 60px at 20% 30%, rgba(255,255,255,.12), transparent 60%),
    radial-gradient(80px 40px at 80% 70%, rgba(255,255,255,.09), transparent 60%);
  mix-blend-mode: overlay; opacity:.5;
  animation: caustics 12s linear infinite;
  pointer-events:none;
  filter: blur(14px);
}
@keyframes caustics { to { transform: translate3d(-3%,2%,0) rotate(1deg); } }

/* ---------- Layout ---------- */
.topbar{
  position:fixed; top:16px; left:16px; right:16px; display:flex; align-items:center; justify-content:space-between;
  padding:10px 12px; z-index:20;
}
.brand{display:flex; align-items:center; gap:10px}
.logo{width:40px; height:40px; border-radius:12px}
.titles .name{font-weight:900; letter-spacing:.3px}
.titles .tag{font-size:.85rem; opacity:.8}

.stage{
  position:fixed; inset:0; display:grid; grid-template-rows: 1fr auto auto;
  gap:12px; padding:84px 16px 16px;
}

/* IG-style ticker on the left */
.ticker{
  align-self: start;
  width:min(460px, 92vw);
  height: clamp(240px, 40vh, 380px);
  padding:12px; overflow:hidden;
  display:flex; flex-direction:column; gap:8px;
}

/* Comment bubble */
.bubble{
  display:inline-flex; align-items:center; gap:10px;
  max-width:100%;
  padding:10px 12px; border-radius:14px;
  background: rgba(0,0,0,.35);
  backdrop-filter: blur(10px) saturate(120%);
  -webkit-backdrop-filter: blur(10px) saturate(120%);
  border:1px solid rgba(255,255,255,.12);
  transform: translateY(12px);
  opacity:0;
  will-change: transform, opacity;
}
.bubble.show{ animation: rise .6s cubic-bezier(.2,.8,.2,1) forwards }
@keyframes rise { to{ transform:none; opacity:1 } }

.user{font-weight:800; color:#fff}
.text{opacity:.95}

/* Composer */
.composer{
  align-self:end;
  padding:12px;
  display:flex; flex-direction:column; gap:10px;
  width:min(800px, 100%);
  margin-inline:auto;
}
.row{display:flex; gap:10px}
.row.buttons{justify-content:space-between}
input{
  flex:1;
  padding:12px 14px; border-radius:12px; border:1px solid rgba(255,255,255,.2);
  background: rgba(0,0,0,.35); color:#fff;
  outline:none;
}
input::placeholder{color:rgba(255,255,255,.7)}
.hint{font-size:.85rem; opacity:.8}

/* Buttons */
.btn{
  display:inline-flex; align-items:center; justify-content:center; gap:8px;
  padding:11px 16px; border-radius:999px; cursor:pointer; user-select:none;
  border:1px solid rgba(255,255,255,.16);
  color:#fff; background: rgba(0,0,0,.35);
  position:relative; overflow:hidden; font-weight:800;
  transition: transform .15s ease, box-shadow .2s ease;
}
.btn:hover{ transform: translateY(-1px) }
.btn.gold{
  background: linear-gradient(90deg, var(--gold-dark), var(--gold));
  box-shadow: 0 12px 28px rgba(200,155,45,.22);
}
.btn.ghost{ background: transparent }

/* Gold press ripple */
.btn.glow-press{
  box-shadow: 0 0 0 0 rgba(200,155,45,.45), 0 12px 28px rgba(150,110,20,.22);
  animation: haloFade .8s ease forwards;
}
@keyframes haloFade{
  to{ box-shadow: 0 0 0 18px rgba(200,155,45,0), 0 12px 28px rgba(150,110,20,.12) }
}
.gold-ripple{
  position:absolute; border-radius:50%; pointer-events:none;
  background: radial-gradient(circle, rgba(255,255,255,.85) 0%, rgba(255,255,255,.6) 30%, rgba(200,155,45,.35) 60%, rgba(200,155,45,0) 70%);
  transform: translate(-50%,-50%) scale(0); opacity:.9;
  animation: rippleOut .7s cubic-bezier(.2,.8,.2,1) forwards; mix-blend-mode: screen;
}
@keyframes rippleOut{ to{ transform: translate(-50%,-50%) scale(1.8); opacity:0 } }

/* Floating hearts */
.hearts{ position:fixed; inset:0; pointer-events:none }
.heart{
  position:absolute; font-size:24px; filter: drop-shadow(0 6px 18px rgba(0,0,0,.35));
  animation: float 2.2s ease-in forwards;
}
@keyframes float{
  0% { transform: translateY(0) scale(.9); opacity:.0 }
  10%{ opacity:1 }
  80%{ opacity:1 }
  100%{ transform: translateY(-180px) scale(1.25); opacity:0 }
}

/* Footer */
.foot{
  position:fixed; left:16px; right:16px; bottom:16px;
  padding:10px 12px; display:flex; align-items:center; justify-content:space-between;
  font-size:.95rem;
}
.links{display:flex; gap:14px}
.link{color:#fff; opacity:.9; text-decoration:none}
.link:hover{opacity:1}

/* Reduced motion preference */
@media (prefers-reduced-motion: reduce){
  .glass, .water, .btn, .bubble, .heart, .bg-video, .video-overlay{
    animation: none !important;
    transition: none !important;
  }
  }
